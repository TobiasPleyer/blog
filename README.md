# Github mirror of my local blog setup

This github project shows all the settings alongside the content of my blog
at [blog.tpleyer.de](http://blog.tpleyer.de).

The blog is a collection of static websites generated by
[_Pelican_](https://blog.getpelican.com). The _Pelican_ settings as well as the
restructured text blog posts are all available in this repository.

## Generating the sources

If you just want the HTML files the following commands will generate them and
then put them under the folder **output**:

```
~$ git clone https://github.com/TobiasPleyer/blog.git
~$ cd blog
~$ make draft
```

With my local setup if I want to test the site locally on localhost I use the
following commands from within the repository:

```
~$ make draft
~$ make apache_rsync
~$ make apache_serve
```

Afterwards all the generated HTML files along with the resources are located in
the folder **output** and the site should be served under localhost:8080.

**BUT**

This won't be the case right out of the box, because

    1. You need to have [Python](https://www.python.org) installed on your system
    2. You need to have Pelican installed on your system
    3. You need to have [Apache](https://www.apache.org) installed on your system
    4. I have patched my Python's docutils, see
       [here](http://blog.tpleyer.de/patching-the-docutils-rst-parser.html)
    5. I have a non standard Apache location on my system

Because of these points I have also included an configuration to run a virtual
machine via Vagrant. In order to deploy the blog to the virtual machine do the
following:

    1. [Install Vagrant](https://www.vagrantup.com/docs/installation/)
    2. [Install VirtualBox](https://www.virtualbox.org/wiki/Downloads)
    3. [Install Ansible](http://docs.ansible.com/ansible/latest/installation_guide/intro_installation.html)

After that run

```
~$ cd vagrant
~$ vagrant up
~$ ./deploy.sh
```

Afterwards the website should be reachable under *localhost:8000*.
